{"version":3,"file":"handsontable.js","sourceRoot":"","sources":["../src/handsontable.ts"],"names":[],"mappings":"OAAO,EAA8C,SAAS,EAAE,YAAY,EAC1E,UAAU,EAAE,KAAK,EAAE,MAAM,EAAC,MAAM,eAAe;OAE1C,KAAK,YAAY,MAAM,wCAAwC;AAEtE,IAAI,UAAU,GAAa,CAAC,eAAe,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,aAAa,EAAE,sBAAsB,EAAE,iBAAiB,EAAE,mBAAmB,EAAE,iBAAiB,EAAE,gCAAgC,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,WAAW,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,UAAU,EAAE,eAAe,EAAE,cAAc,EAAE,kBAAkB,EAAE,sBAAsB,EAAE,iCAAiC,EAAE,uBAAuB,EAAE,uBAAuB,EAAE,aAAa,EAAE,aAAa,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,+BAA+B,EAAE,mBAAmB,EAAE,4BAA4B,EAAE,WAAW,EAAE,eAAe,EAAE,yBAAyB,EAAE,2BAA2B,EAAE,qBAAqB,EAAE,2BAA2B,EAAE,4BAA4B,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,yBAAyB,EAAE,WAAW,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,aAAa,EAAE,eAAe,EAAE,cAAc,EAAE,gBAAgB,EAAE,yBAAyB,EAAE,uBAAuB,EAAE,gBAAgB,EAAE,sBAAsB,EAAE,mBAAmB,EAAE,yBAAyB,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,uBAAuB,EAAE,cAAc,EAAE,WAAW,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,eAAe,EAAE,uCAAuC,EAAE,oCAAoC,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,8BAA8B,EAAE,qBAAqB,EAAE,cAAc,EAAE,oBAAoB,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,kBAAkB,EAAE,2BAA2B,EAAE,YAAY,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,WAAW,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,4BAA4B,EAAE,cAAc,EAAE,mBAAmB,EAAE,YAAY,EAAE,uBAAuB,EAAE,eAAe,EAAE,uBAAuB,EAAE,sBAAsB,EAAE,uBAAuB,EAAE,aAAa,EAAE,YAAY,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,cAAc,EAAE,gBAAgB,EAAE,eAAe,EAAE,iBAAiB,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,6BAA6B,EAAE,mBAAmB,EAAE,YAAY,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,WAAW,EAAE,cAAc,EAAE,WAAW,EAAE,MAAM,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,WAAW,EAAE,iBAAiB,EAAE,0BAA0B,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,YAAY,EAAE,WAAW,EAAE,iBAAiB,EAAE,sBAAsB,EAAE,iBAAiB,EAAE,qBAAqB,EAAE,oBAAoB,EAAE,sBAAsB,EAAE,qBAAqB,EAAE,sBAAsB,EAAE,qBAAqB,EAAE,iBAAiB,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;AAGnqF;IAcE,kBAAoB,OAAmB,EAAU,MAAc;QAdjE,iBA4LC;QA9KqB,YAAO,GAAP,OAAO,CAAY;QAAU,WAAM,GAAN,MAAM,CAAQ;QAbtD,SAAI,GAAe,EAAE,CAAC;QAUvB,cAAS,GAAmB,EAAE,CAAC;QAC/B,qBAAgB,GAAW,CAAC,CAAC;QAGnC,0BAA0B;QAC1B,UAAU,CAAC,OAAO,CAAC,UAAC,SAAiB;YAClC,KAAY,CAAC,SAAS,CAAC,GAAG,IAAI,YAAY,EAAE,CAAC;QAChD,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,oCAAiB,GAAzB,UAA0B,OAAY;QACpC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACrB,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC;QAChD,IAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;QAE7B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACZ,OAAO,CAAC,OAAO,CAAC,UAAC,MAAU;gBACzB,EAAE,CAAC,CAAC,OAAO,MAAM,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;oBACtC,IAAI,cAAY,GAAW,MAAM,CAAC,MAAM,CAAC;oBACzC,MAAM,CAAC,MAAM,GAAG,UAAU,MAAU,EAAE,OAAW;wBAC/C,IAAI,GAAG,GAAW,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;wBACxC,IAAI,IAAI,GAAQ,OAAO,CAAC,GAAG,CAAC,CAAC;wBAE7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;4BACV,MAAM,CAAC;wBACT,CAAC;wBAED,IAAI,UAAU,GAAkB,cAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACxD,IAAI,CAAC,GAAQ,IAAI,CAAC;wBAClB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC3C,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvB,CAAC;wBAED,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,UAAC,IAAQ;4BACrB,MAAM,CAAC,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;wBAC/D,CAAC,CAAC,CAAC,CAAC;oBACN,CAAC,CAAC;gBACJ,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,2BAAQ,GAAR;QAAA,iBAwBC;QAvBC,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,wBAAwB,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAElD,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,YAAY,CAAC,KAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAEhC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAC,YAAiB;gBACvE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;gBACpD,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gBAC9B,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,8BAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC;QAC3C,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IAED,8BAAW,GAAX,UAAY,OAAsB;QAChC,EAAE,CAAC,CAAC,SAAS,IAAI,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;QACrD,CAAC;QACD,6CAA6C;QAC7C,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;YACxD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;IAEO,8BAAW,GAAnB;QACE,IAAM,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAC/D,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;QAChD,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;YAClB,OAAO,CAAC,KAAK,CAAC,yDAAyD;gBACtE,YAAY,CAAC,CAAC;YACf,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,OAAO,CAAC,KAAK,CAAC,qDAAqD;gBACjE,iBAAiB,CAAC,CAAC;YACrB,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAEO,oCAAiB,GAAzB;QAAA,iBAuCC;QAtCC,IAAI,SAAS,GAAQ;YACnB,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,IAAI;SACxB,CAAC;QAEF,UAAU,CAAC,OAAO,CAAC,UAAA,SAAS;YAC1B,sGAAsG;YACtG,EAAE,CAAC,CAAuB,KAAY,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;gBACnE,SAAS,CAAC,SAAS,CAAC,GAAG;oBAAC,cAAc;yBAAd,WAAc,CAAd,sBAAc,CAAd,IAAc;wBAAd,6BAAc;;oBACpC,IAAI,IAAI,GAAU,EAAE,CAAC;oBACrB,yGAAyG;oBACzG,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,KAAK,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC;wBAClD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;4BAC3B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;4BAChC,KAAK,CAAC;wBACR,CAAC;oBACH,CAAC;oBACD,gEAAgE;oBAChE,KAAI,CAAC,qBAAqB,CAAC;wBACxB,KAAY,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACtC,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC;YACJ,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,gBAAgB,GAAkB,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC;QAC7E,gBAAgB,CAAC,OAAO,CAAC,UAAA,KAAK;YAC5B,EAAE,CAAC,CAAE,KAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE;oBACvB,GAAC,KAAK,CAAC,GAAG,KAAY,CAAC,KAAK,CAAC;;iBAC9B,CAAC,CAAC;YACL,CAAC;;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;QAED,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAEO,wCAAqB,GAA7B,UAA8B,EAAc;QAA5C,iBAYC;QAXC,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC1B,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;YACjC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,CAAW,IAAK,OAAA,CAAC,EAAE,EAAH,CAAG,CAAC,CAAC;YAC/C,CAAC,CAAC,CAAC;YACH,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IACI,mBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACxB,QAAQ,EAAE,WAAW;oBACrB,OAAO,EAAE,UAAU;iBACpB,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,uBAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,UAAU,GAAG;QACpB,EAAC,IAAI,EAAE,MAAM,GAAG;KACf,EAH6F,CAG7F,CAAC;IACK,uBAAc,GAA2C;QAChE,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC1B,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAG,EAAE,EAAE;QACvD,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,aAAa,EAAG,EAAE,EAAE;QACzD,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC7B,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,YAAY,EAAG,EAAE,EAAE;QACvD,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KAC5B,CAAC;IACF,eAAC;AAAD,CAAC,AA5LD,IA4LC","sourcesContent":["import {OnInit, OnDestroy, OnChanges, SimpleChanges, Directive, EventEmitter,\n  ElementRef, Input, NgZone} from '@angular/core';\nimport {Observable, Subscription} from 'rxjs';\nimport * as Handsontable from 'handsontable/dist/handsontable.full.js';\n\nlet eventNames: string[] = ['afterAddChild', 'afterBeginEditing', 'afterCellMetaReset', 'afterChange', 'afterChangesObserved', 'afterColumnMove', 'afterColumnResize', 'afterColumnSort', 'afterContextMenuDefaultOptions', 'afterContextMenuHide', 'afterContextMenuShow', 'afterCopy', 'afterCopyLimit', 'afterCreateCol', 'afterCreateRow', 'afterCut', 'afterDeselect', 'afterDestroy', 'afterDetachChild', 'afterDocumentKeyDown', 'afterDropdownMenuDefaultOptions', 'afterDropdownMenuHide', 'afterDropdownMenuShow', 'afterePaste', 'afterFilter', 'afterGetCellMeta', 'afterGetColHeader', 'afterGetColumnHeaderRenderers', 'afterGetRowHeader', 'afterGetRowHeaderRenderers', 'afterInit', 'afterLoadData', 'afterModifyTransformEnd', 'afterModifyTransformStart', 'afterMomentumScroll', 'afterOnCellCornerDblClick', 'afterOnCellCornerMouseDown', 'afterOnCellMouseDown', 'afterOnCellMouseOver', 'afterOnCellMouseOver', 'afterPluginsInitialized', 'afterRedo', 'afterRemoveCol', 'afterRemoveRow', 'afterRender', 'afterRenderer', 'afterRowMove', 'afterRowResize', 'afterScrollHorizontally', 'afterScrollVertically', 'afterSelection', 'afterSelectionByProp', 'afterSelectionEnd', 'afterSelectionEndByProp', 'afterSetCellMeta', 'afterSetDataAtCell', 'afterSetDataAtRowProp', 'afterTrimRow', 'afterUndo', 'afterUntrimRow', 'afterUpdateSettings', 'afterValidate', 'afterViewportColumnCalculatorOverride', 'afterViewportRowCalculatorOverride', 'beforeAddChild', 'beforeAutofill', 'beforeAutofillInsidePopulate', 'beforeCellAlignment', 'beforeChange', 'beforeChangeRender', 'beforeColumnMove', 'beforeColumnResize', 'beforeColumnSort', 'beforeContextMenuSetItems', 'beforeCopy', 'beforeCreateCol', 'beforeCreateRow', 'beforeCut', 'beforeDetachChild', 'beforeDrawBorders', 'beforeDropdownMenuSetItems', 'beforeFilter', 'beforeGetCellMeta', 'beforeInit', 'beforeInitWalkontable', 'beforeKeyDown', 'beforeOnCellMouseDown', 'beforeOnCellMouseOut', 'beforeOnCellMouseOver', 'beforePaste', 'beforeRedo', 'beforeRemoveCol', 'beforeRemoveRow', 'beforeRender', 'beforeRenderer', 'beforeRowMove', 'beforeRowResize', 'beforeSetRangeEnd', 'beforeSetRangeStart', 'beforeStretchingColumnWidth', 'beforeTouchScroll', 'beforeUndo', 'beforeValidate', 'beforeValueRender', 'beforeValueRender', 'construct', 'hiddenColumn', 'hiddenRow', 'init', 'manualRowHeights', 'modifyAutofillRange', 'modifyCol', 'modifyColHeader', 'modifyColumnHeaderHeight', 'modifyColWidth', 'modifyCopyableRange', 'modifyData', 'modifyRow', 'modifyRowHeader', 'modifyRowHeaderWidth', 'modifyRowHeight', 'modifyRowSourceData', 'modifyTransformEnd', 'modifyTransformStart', 'persistentStateLoad', 'persistentStateReset', 'persistentStateSave', 'skipLengthCache', 'unmodifyCol', 'unmodifyRow'];\n\n\nexport class HotTable implements OnInit, OnDestroy, OnChanges {\n   private data: Array<any> = [];\n   private pagedData$: Observable<Array<any>>;\n   protected colHeaders: Array<string>;\n   protected columns: Array<any>;\n   protected colWidths: Array<number>;\n   private options: any;\n\n  private inst: any;\n  private view: any;\n  private pagedDataSubscription: Subscription;\n  private zoneQueue: (() => void)[] = [];\n  private zoneQueueTimeout: number = 0;\n\n  constructor(private element: ElementRef, private ngZone: NgZone) {\n    // fill events dynamically\n    eventNames.forEach((eventName: string) => {\n      (this as any)[eventName] = new EventEmitter();\n    });\n  }\n\n  private parseAutoComplete(options: any) {\n    let inst = this.inst;\n    const columns = this.columns || options.columns;\n    const dataSet = options.data;\n\n    if (columns) {\n      columns.forEach((column:any) => {\n        if (typeof column.source === 'string') {\n          let relatedField: string = column.source;\n          column.source = function (_query:any, process:any) {\n            let row: number = inst.getSelected()[0];\n            let data: any = dataSet[row];\n\n            if (!data) {\n              return;\n            }\n\n            let fieldParts: Array<string> = relatedField.split('.');\n            let o: any = data;\n            for (let i = 0; i < fieldParts.length; i++) {\n              o = o[fieldParts[i]];\n            }\n\n            process(o.map((item:any) => {\n              return !column.optionField ? item : item[column.optionField];\n            }));\n          };\n        }\n      });\n    }\n  }\n\n  ngOnInit() {\n    this.checkInputs();\n\n    this.view = document.createElement('div');\n    this.view.class = 'handsontable-container';\n    this.element.nativeElement.appendChild(this.view);\n\n    const options = this.getCurrentOptions();\n\n    this.ngZone.runOutsideAngular(() => {\n      this.inst = new Handsontable(this.view, options);\n    });\n\n    this.parseAutoComplete(options);\n\n    if (this.pagedData$) {\n      this.data = [];\n      this.pagedDataSubscription = this.pagedData$.subscribe((newPagedData: any) => {\n        Array.prototype.push.apply(this.data, newPagedData);\n        this.inst.loadData(this.data);\n        this.parseAutoComplete(options);\n        this.inst.updateSettings(options);\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.view && this.view.parentElement) {\n      this.view.parentElement.removeChild(this.view);\n    }\n    if (this.pagedDataSubscription) {\n      this.pagedDataSubscription.unsubscribe();\n    }\n    if (this.inst) {\n      this.inst.destroy();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('options' in changes && this.inst) {\n      this.inst.updateSettings(this.getCurrentOptions());\n    }\n    // tslint:disable-next-line:no-string-literal\n    if (changes['data'] && !changes['data'].isFirstChange()) {\n      this.inst.loadData(this.data);\n    }\n  }\n\n  private checkInputs(): boolean {\n    const dataCount = Number(!!this.pagedData$) + Number(!!this.data) +\n      Number(!!(this.options && this.options.data));\n    if (dataCount > 1) {\n      console.error('[pagedData], [data] and [options.data] are all mutually' +\n       ' exclusive');\n      return false;\n    } else if (dataCount === 0) {\n      console.error('One of [pagedData], [data] and [options.data] needs' +\n        ' to be provided');\n      return false;\n    }\n  }\n\n  private getCurrentOptions(): any {\n    let htOptions: any = {\n      data: this.data || null\n    };\n\n    eventNames.forEach(eventName => {\n      // Only register the event if the emitter has an observer (i.e., if the output is actually being used)\n      if (<EventEmitter<any[]>>(this as any)[eventName].observers.length) {\n        htOptions[eventName] = (...args: any[]) => {\n          let data: any[] = [];\n          // Handsontable event handlers are always called with 6 arguments. Cut off any trailing undefined values.\n          for (let index = args.length; index >= 0; index--) {\n            if (args[index] !== void 0) {\n              data = args.slice(0, index + 1);\n              break;\n            }\n          }\n          // Queue all emissions to only cause 1 Zone.run() call per tick.\n          this.queueForRunningInZone(() => {\n            (this as any)[eventName].emit(data);\n          });\n        };\n      }\n    });\n\n    let additionalFields: Array<string> = ['colHeaders', 'colWidths', 'columns'];\n    additionalFields.forEach(field => {\n      if ((this as any)[field]) {\n        Object.assign(htOptions, {\n          [field]: (this as any)[field]\n        });\n      }\n    });\n\n    if (this.options) {\n      Object.assign(htOptions, this.options);\n    }\n\n    return htOptions;\n  }\n\n  private queueForRunningInZone(fn: () => void): void {\n    if (this.zoneQueueTimeout) {\n      clearTimeout(this.zoneQueueTimeout);\n    }\n    this.zoneQueue.push(fn);\n    this.zoneQueueTimeout = setTimeout(() => {\n      this.ngZone.run(() => {\n        this.zoneQueue.forEach((f: Function) => f());\n      });\n      this.zoneQueue = [];\n      this.zoneQueueTimeout = 0;\n    });\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: 'hot-table',\n  outputs: eventNames\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: NgZone, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'data': [{ type: Input },],\n'pagedData$': [{ type: Input, args: ['pagedData', ] },],\n'colHeaders': [{ type: Input, args: ['col-headers', ] },],\n'columns': [{ type: Input },],\n'colWidths': [{ type: Input, args: ['col-widths', ] },],\n'options': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}